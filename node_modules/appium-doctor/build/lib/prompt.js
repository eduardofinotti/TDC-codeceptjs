"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.configure = configure;
exports.fixIt = fixIt;
exports.clear = clear;

require("source-map-support/register");

var _utils = require("./utils");

let persistentResponse;
const fixItQuestion = {
  type: 'list',
  name: 'confirmation',
  message: 'Fix it:',
  choices: ['yes', 'no', 'always', 'never'],

  filter(val) {
    return val.toLowerCase();
  }

};

function configure(opts) {
  if (opts.yes) {
    persistentResponse = 'yes';
  }

  if (opts.no) {
    persistentResponse = 'no';
  }
}

function clear() {
  persistentResponse = undefined;
}

async function fixIt() {
  if (persistentResponse) {
    return persistentResponse;
  }

  let resp = await _utils.inquirer.prompt(fixItQuestion);
  persistentResponse = resp.confirmation === 'always' ? 'yes' : persistentResponse;
  persistentResponse = resp.confirmation === 'never' ? 'no' : persistentResponse;
  return persistentResponse || resp.confirmation;
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9wcm9tcHQuanMiXSwibmFtZXMiOlsicGVyc2lzdGVudFJlc3BvbnNlIiwiZml4SXRRdWVzdGlvbiIsInR5cGUiLCJuYW1lIiwibWVzc2FnZSIsImNob2ljZXMiLCJmaWx0ZXIiLCJ2YWwiLCJ0b0xvd2VyQ2FzZSIsImNvbmZpZ3VyZSIsIm9wdHMiLCJ5ZXMiLCJubyIsImNsZWFyIiwidW5kZWZpbmVkIiwiZml4SXQiLCJyZXNwIiwiaW5xdWlyZXIiLCJwcm9tcHQiLCJjb25maXJtYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsSUFBSUEsa0JBQUo7QUFFQSxNQUFNQyxhQUFhLEdBQUc7QUFDcEJDLEVBQUFBLElBQUksRUFBRSxNQURjO0FBRXBCQyxFQUFBQSxJQUFJLEVBQUUsY0FGYztBQUdwQkMsRUFBQUEsT0FBTyxFQUFFLFNBSFc7QUFJcEJDLEVBQUFBLE9BQU8sRUFBRSxDQUFDLEtBQUQsRUFBUSxJQUFSLEVBQWMsUUFBZCxFQUF3QixPQUF4QixDQUpXOztBQUtwQkMsRUFBQUEsTUFBTSxDQUFFQyxHQUFGLEVBQU87QUFDWCxXQUFPQSxHQUFHLENBQUNDLFdBQUosRUFBUDtBQUNEOztBQVBtQixDQUF0Qjs7QUFVQSxTQUFTQyxTQUFULENBQW9CQyxJQUFwQixFQUEwQjtBQUN4QixNQUFJQSxJQUFJLENBQUNDLEdBQVQsRUFBYztBQUNaWCxJQUFBQSxrQkFBa0IsR0FBRyxLQUFyQjtBQUNEOztBQUNELE1BQUlVLElBQUksQ0FBQ0UsRUFBVCxFQUFhO0FBQ1haLElBQUFBLGtCQUFrQixHQUFHLElBQXJCO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTYSxLQUFULEdBQWtCO0FBQ2hCYixFQUFBQSxrQkFBa0IsR0FBR2MsU0FBckI7QUFDRDs7QUFFRCxlQUFlQyxLQUFmLEdBQXdCO0FBQ3RCLE1BQUlmLGtCQUFKLEVBQXdCO0FBQ3RCLFdBQU9BLGtCQUFQO0FBQ0Q7O0FBQ0QsTUFBSWdCLElBQUksR0FBRyxNQUFNQyxnQkFBU0MsTUFBVCxDQUFnQmpCLGFBQWhCLENBQWpCO0FBQ0FELEVBQUFBLGtCQUFrQixHQUFHZ0IsSUFBSSxDQUFDRyxZQUFMLEtBQXNCLFFBQXRCLEdBQWlDLEtBQWpDLEdBQXlDbkIsa0JBQTlEO0FBQ0FBLEVBQUFBLGtCQUFrQixHQUFHZ0IsSUFBSSxDQUFDRyxZQUFMLEtBQXNCLE9BQXRCLEdBQWdDLElBQWhDLEdBQXVDbkIsa0JBQTVEO0FBQ0EsU0FBT0Esa0JBQWtCLElBQUlnQixJQUFJLENBQUNHLFlBQWxDO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnF1aXJlciB9IGZyb20gJy4vdXRpbHMnO1xuXG5sZXQgcGVyc2lzdGVudFJlc3BvbnNlO1xuXG5jb25zdCBmaXhJdFF1ZXN0aW9uID0ge1xuICB0eXBlOiAnbGlzdCcsXG4gIG5hbWU6ICdjb25maXJtYXRpb24nLFxuICBtZXNzYWdlOiAnRml4IGl0OicsXG4gIGNob2ljZXM6IFsneWVzJywgJ25vJywgJ2Fsd2F5cycsICduZXZlciddLFxuICBmaWx0ZXIgKHZhbCkge1xuICAgIHJldHVybiB2YWwudG9Mb3dlckNhc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY29uZmlndXJlIChvcHRzKSB7XG4gIGlmIChvcHRzLnllcykge1xuICAgIHBlcnNpc3RlbnRSZXNwb25zZSA9ICd5ZXMnO1xuICB9XG4gIGlmIChvcHRzLm5vKSB7XG4gICAgcGVyc2lzdGVudFJlc3BvbnNlID0gJ25vJztcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhciAoKSB7XG4gIHBlcnNpc3RlbnRSZXNwb25zZSA9IHVuZGVmaW5lZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZml4SXQgKCkge1xuICBpZiAocGVyc2lzdGVudFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHBlcnNpc3RlbnRSZXNwb25zZTtcbiAgfVxuICBsZXQgcmVzcCA9IGF3YWl0IGlucXVpcmVyLnByb21wdChmaXhJdFF1ZXN0aW9uKTtcbiAgcGVyc2lzdGVudFJlc3BvbnNlID0gcmVzcC5jb25maXJtYXRpb24gPT09ICdhbHdheXMnID8gJ3llcycgOiBwZXJzaXN0ZW50UmVzcG9uc2U7XG4gIHBlcnNpc3RlbnRSZXNwb25zZSA9IHJlc3AuY29uZmlybWF0aW9uID09PSAnbmV2ZXInID8gJ25vJyA6IHBlcnNpc3RlbnRSZXNwb25zZTtcbiAgcmV0dXJuIHBlcnNpc3RlbnRSZXNwb25zZSB8fCByZXNwLmNvbmZpcm1hdGlvbjtcbn1cblxuZXhwb3J0IHsgY29uZmlndXJlLCBmaXhJdCwgY2xlYXIgfTtcbiJdLCJmaWxlIjoibGliL3Byb21wdC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
