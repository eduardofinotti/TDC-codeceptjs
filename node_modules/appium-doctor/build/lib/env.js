"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _appiumSupport = require("appium-support");

var _doctor = require("./doctor");

var _utils = require("./utils");

class EnvVarAndPathCheck extends _doctor.DoctorCheck {
  constructor(varName) {
    super();
    this.varName = varName;
  }

  async diagnose() {
    let varValue = process.env[this.varName];

    if (typeof varValue === 'undefined') {
      return (0, _utils.nok)(`${this.varName} is NOT set!`);
    }

    return (await _appiumSupport.fs.exists(varValue)) ? (0, _utils.ok)(`${this.varName} is set to: ${varValue}`) : (0, _utils.nok)(`${this.varName} is set to '${varValue}' but this is NOT a valid path!`);
  }

  fix() {
    return `Manually configure ${this.varName}.`;
  }

}

var _default = EnvVarAndPathCheck;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9lbnYuanMiXSwibmFtZXMiOlsiRW52VmFyQW5kUGF0aENoZWNrIiwiRG9jdG9yQ2hlY2siLCJjb25zdHJ1Y3RvciIsInZhck5hbWUiLCJkaWFnbm9zZSIsInZhclZhbHVlIiwicHJvY2VzcyIsImVudiIsImZzIiwiZXhpc3RzIiwiZml4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFJQSxNQUFNQSxrQkFBTixTQUFpQ0MsbUJBQWpDLENBQTZDO0FBQzNDQyxFQUFBQSxXQUFXLENBQUVDLE9BQUYsRUFBVztBQUNwQjtBQUNBLFNBQUtBLE9BQUwsR0FBZUEsT0FBZjtBQUNEOztBQUVELFFBQU1DLFFBQU4sR0FBa0I7QUFDaEIsUUFBSUMsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxLQUFLSixPQUFqQixDQUFmOztBQUNBLFFBQUksT0FBT0UsUUFBUCxLQUFvQixXQUF4QixFQUFxQztBQUNuQyxhQUFPLGdCQUFLLEdBQUUsS0FBS0YsT0FBUSxjQUFwQixDQUFQO0FBQ0Q7O0FBQ0QsV0FBTyxPQUFNSyxrQkFBR0MsTUFBSCxDQUFVSixRQUFWLENBQU4sSUFBNEIsZUFBSSxHQUFFLEtBQUtGLE9BQVEsZUFBY0UsUUFBUyxFQUExQyxDQUE1QixHQUNMLGdCQUFLLEdBQUUsS0FBS0YsT0FBUSxlQUFjRSxRQUFTLGlDQUEzQyxDQURGO0FBRUQ7O0FBRURLLEVBQUFBLEdBQUcsR0FBSTtBQUNMLFdBQVEsc0JBQXFCLEtBQUtQLE9BQVEsR0FBMUM7QUFDRDs7QUFqQjBDOztlQXFCOUJILGtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnMgfSBmcm9tICdhcHBpdW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBEb2N0b3JDaGVjayB9IGZyb20gJy4vZG9jdG9yJztcbmltcG9ydCB7IG9rLCBub2sgfSBmcm9tICcuL3V0aWxzJztcblxuXG4vLyBDaGVjayBlbnYgdmFyaWFibGVzXG5jbGFzcyBFbnZWYXJBbmRQYXRoQ2hlY2sgZXh0ZW5kcyBEb2N0b3JDaGVjayB7XG4gIGNvbnN0cnVjdG9yICh2YXJOYW1lKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhck5hbWUgPSB2YXJOYW1lO1xuICB9XG5cbiAgYXN5bmMgZGlhZ25vc2UgKCkge1xuICAgIGxldCB2YXJWYWx1ZSA9IHByb2Nlc3MuZW52W3RoaXMudmFyTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YXJWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBub2soYCR7dGhpcy52YXJOYW1lfSBpcyBOT1Qgc2V0IWApO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgZnMuZXhpc3RzKHZhclZhbHVlKSA/IG9rKGAke3RoaXMudmFyTmFtZX0gaXMgc2V0IHRvOiAke3ZhclZhbHVlfWApIDpcbiAgICAgIG5vayhgJHt0aGlzLnZhck5hbWV9IGlzIHNldCB0byAnJHt2YXJWYWx1ZX0nIGJ1dCB0aGlzIGlzIE5PVCBhIHZhbGlkIHBhdGghYCk7XG4gIH1cblxuICBmaXggKCkge1xuICAgIHJldHVybiBgTWFudWFsbHkgY29uZmlndXJlICR7dGhpcy52YXJOYW1lfS5gO1xuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgRW52VmFyQW5kUGF0aENoZWNrO1xuIl0sImZpbGUiOiJsaWIvZW52LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
